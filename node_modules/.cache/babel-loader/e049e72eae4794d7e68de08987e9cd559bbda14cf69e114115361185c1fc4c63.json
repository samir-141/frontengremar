{"ast":null,"code":"import React,{useState}from'react';import'./JsonEditor.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditModal=_ref=>{let{data,onClose,onSave,URL}=_ref;const[formData,setFormData]=useState({...data});const[error,setError]=useState(null);const[loading,setLoading]=useState(false);// Manejar cambios en los campos del formulario\nconst handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};// Enviar los datos actualizados al backend\nconst handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);try{// Enviar los datos actualizados al backend mediante una solicitud POST\nconst response=await fetch(`${URL}/student/editar/${data.id}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});if(!response.ok){throw new Error('Error al actualizar el estudiante');}// Llamar a la función `onSave` para notificar al padre que los datos han sido guardados\nonSave(formData);// Cerrar el modal\nonClose();}catch(error){setError(error.message);}finally{setLoading(false);}};// Dividir los campos en secciones\nconst personalInfoFields=[{key:'APELLIDOS_NOMBRES',label:'Apellidos y Nombres'},{key:'SEXO',label:'Sexo'},{key:'DNI',label:'DNI'},{key:'CELULAR',label:'Celular'},{key:'DIRECCIÓN',label:'Dirección'},{key:'RELIGIÓN',label:'Religión'}];const academicInfoFields=[{key:'GR',label:'Grado'},{key:'SITUACIÓN_MATRICULA',label:'Situación de Matrícula'},{key:'COMPROMISO_DOCUMENTOS',label:'Compromiso de Documentos'},{key:'APAFA',label:'APAFA'},{key:'QALIWARMA',label:'Qali Warma'},{key:'TARJETA_SALUD',label:'Tarjeta de Salud'},{key:'CONADIS',label:'CONADIS'}];const additionalInfoFields=[{key:'APODERADO',label:'Apoderado'},{key:'CELULAR_ADICIONAL',label:'Celular Adicional'},{key:'NOMBRE',label:'Nombre del Apoderado'},{key:'PARENTESCO',label:'Parentesco'},{key:'OBSERVACIÓN',label:'Observaciones'}];return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Editar Informaci\\xF3n\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informaci\\xF3n Personal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group-container\",children:personalInfoFields.map(_ref2=>{var _formData$key;let{key,label}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:key,value:(_formData$key=formData[key])!==null&&_formData$key!==void 0?_formData$key:'',onChange:handleChange})]},key);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informaci\\xF3n Acad\\xE9mica\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group-container\",children:academicInfoFields.map(_ref3=>{var _formData$key2;let{key,label}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:key,value:(_formData$key2=formData[key])!==null&&_formData$key2!==void 0?_formData$key2:'',onChange:handleChange})]},key);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informaci\\xF3n Adicional\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group-container\",children:additionalInfoFields.map(_ref4=>{var _formData$key3;let{key,label}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:key,value:(_formData$key3=formData[key])!==null&&_formData$key3!==void 0?_formData$key3:'',onChange:handleChange})]},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-btn\",disabled:loading,children:loading?'Guardando...':'Guardar'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close-btn\",onClick:onClose,children:\"Cerrar\"})]})]})]})});};export default EditModal;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","EditModal","_ref","data","onClose","onSave","URL","formData","setFormData","error","setError","loading","setLoading","handleChange","e","name","value","target","handleSubmit","preventDefault","response","fetch","id","method","headers","body","JSON","stringify","ok","Error","message","personalInfoFields","key","label","academicInfoFields","additionalInfoFields","className","children","onSubmit","map","_ref2","_formData$key","type","onChange","_ref3","_formData$key2","_ref4","_formData$key3","disabled","onClick"],"sources":["C:/Users/jhone/OneDrive/Escritorio/AppGremar/frontend/src/components/model.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './JsonEditor.css';\r\n\r\nconst EditModal = ({ data, onClose, onSave, URL }) => {\r\n    const [formData, setFormData] = useState({ ...data });\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    // Manejar cambios en los campos del formulario\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({ ...formData, [name]: value });\r\n    };\r\n\r\n    // Enviar los datos actualizados al backend\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            // Enviar los datos actualizados al backend mediante una solicitud POST\r\n            const response = await fetch(`${URL}/student/editar/${data.id}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                throw new Error('Error al actualizar el estudiante');\r\n            }\r\n\r\n            // Llamar a la función `onSave` para notificar al padre que los datos han sido guardados\r\n            onSave(formData);\r\n\r\n            // Cerrar el modal\r\n            onClose();\r\n        } catch (error) {\r\n            setError(error.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Dividir los campos en secciones\r\n    const personalInfoFields = [\r\n        { key: 'APELLIDOS_NOMBRES', label: 'Apellidos y Nombres' },\r\n        { key: 'SEXO', label: 'Sexo' },\r\n        { key: 'DNI', label: 'DNI' },\r\n        { key: 'CELULAR', label: 'Celular' },\r\n        { key: 'DIRECCIÓN', label: 'Dirección' },\r\n        { key: 'RELIGIÓN', label: 'Religión' },\r\n    ];\r\n\r\n    const academicInfoFields = [\r\n        { key: 'GR', label: 'Grado' },\r\n        { key: 'SITUACIÓN_MATRICULA', label: 'Situación de Matrícula' },\r\n        { key: 'COMPROMISO_DOCUMENTOS', label: 'Compromiso de Documentos' },\r\n        { key: 'APAFA', label: 'APAFA' },\r\n        { key: 'QALIWARMA', label: 'Qali Warma' },\r\n        { key: 'TARJETA_SALUD', label: 'Tarjeta de Salud' },\r\n        { key: 'CONADIS', label: 'CONADIS' },\r\n    ];\r\n\r\n    const additionalInfoFields = [\r\n        { key: 'APODERADO', label: 'Apoderado' },\r\n        { key: 'CELULAR_ADICIONAL', label: 'Celular Adicional' },\r\n        { key: 'NOMBRE', label: 'Nombre del Apoderado' },\r\n        { key: 'PARENTESCO', label: 'Parentesco' },\r\n        { key: 'OBSERVACIÓN', label: 'Observaciones' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"modal-overlay\">\r\n            <div className=\"modal-content\">\r\n                <h2>Editar Información</h2>\r\n                {error && <p className=\"error-message\">{error}</p>}\r\n                <form onSubmit={handleSubmit}>\r\n                    {/* Sección de Información Personal */}\r\n                    <section className=\"form-section\">\r\n                        <h3>Información Personal</h3>\r\n                        <div className=\"form-group-container\">\r\n                            {personalInfoFields.map(({ key, label }) => (\r\n                                <div className=\"form-group\" key={key}>\r\n                                    <label>{label}</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name={key}\r\n                                        value={formData[key] ?? ''}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Sección de Información Académica */}\r\n                    <section className=\"form-section\">\r\n                        <h3>Información Académica</h3>\r\n                        <div className=\"form-group-container\">\r\n                            {academicInfoFields.map(({ key, label }) => (\r\n                                <div className=\"form-group\" key={key}>\r\n                                    <label>{label}</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name={key}\r\n                                        value={formData[key] ?? ''}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Sección de Información Adicional */}\r\n                    <section className=\"form-section\">\r\n                        <h3>Información Adicional</h3>\r\n                        <div className=\"form-group-container\">\r\n                            {additionalInfoFields.map(({ key, label }) => (\r\n                                <div className=\"form-group\" key={key}>\r\n                                    <label>{label}</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name={key}\r\n                                        value={formData[key] ?? ''}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Acciones del Modal */}\r\n                    <div className=\"modal-actions\">\r\n                        <button type=\"submit\" className=\"save-btn\" disabled={loading}>\r\n                            {loading ? 'Guardando...' : 'Guardar'}\r\n                        </button>\r\n                        <button type=\"button\" className=\"close-btn\" onClick={onClose}>\r\n                            Cerrar\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}